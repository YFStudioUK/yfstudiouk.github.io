<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Building Sensor Fusion - YF Studio Case Study</title>
    <meta name="description"
        content="Multi-sensor fusion platform for smart building HVAC optimisation and occupancy prediction across 12 London office buildings.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://yfstudiouk.github.io/case-studies/case-study-iot-sensor-fusion.html">
    <meta property="og:title" content="Smart Building Sensor Fusion - YF Studio Case Study">
    <meta property="og:description"
        content="Multi-sensor fusion platform for smart building HVAC optimisation and occupancy prediction across 12 London office buildings.">
    <meta property="og:image" content="https://yfstudiouk.github.io/images/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yfstudiouk.github.io/case-studies/case-study-iot-sensor-fusion.html">
    <meta property="twitter:title" content="Smart Building Sensor Fusion - YF Studio Case Study">
    <meta property="twitter:description"
        content="Multi-sensor fusion platform for smart building HVAC optimisation and occupancy prediction across 12 London office buildings.">
    <meta property="twitter:image" content="https://yfstudiouk.github.io/images/og-image.jpg">

    <!-- Canonical & Robots -->
    <link rel="canonical" href="https://yfstudiouk.github.io/case-studies/case-study-iot-sensor-fusion.html">
    <meta name="robots" content="index, follow">

    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Analytics -->
    <script src="../js/analytics.js"></script>


    <style>
        .case-study-hero {
            min-height: 60vh;
            display: flex;
            align-items: center;
            background:
                radial-gradient(circle at 20% 80%, rgba(0, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(128, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 60% 60%, rgba(0, 0, 255, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #000000 0%, #0a0a0a 25%, #1a1a1a 50%, #0d1117 75%, #161b22 100%);
            color: #ff00ff;
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid rgba(255, 0, 255, 0.2);
        }

        .case-study-content {
            padding: 4rem 0;
            background: linear-gradient(135deg, #000000 0%, #0a0a0a 25%, #1a1a1a 50%, #0d1117 75%, #161b22 100%);
            color: white;
        }

        .case-study-section {
            margin-bottom: 3rem;
        }

        .case-study-section h2 {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .case-study-section h3 {
            color: #00ffff;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .tech-item {
            background: rgba(255, 0, 255, 0.1);
            border: 1px solid rgba(255, 0, 255, 0.3);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            color: #ff00ff;
            border: 2px solid rgba(255, 0, 255, 0.4);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(255, 0, 255, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-button:hover {
            background: linear-gradient(135deg, #ff00ff, #00ffff);
            color: #000000;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 0, 255, 0.5);
        }

        .case-study-section ul {
            padding-left: 2rem;
        }

        .case-study-section li {
            margin-bottom: 0.5rem;
        }

        .case-study-section h3 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .case-study-section h3:first-child {
            margin-top: 0;
        }
    </style>
</head>

<body>
    <a href="../index.html" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Portfolio
    </a>

    <!-- Case Study Hero -->
    <section class="case-study-hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">
                    Smart Building Sensor Fusion
                    <span class="gradient-text">HVAC &amp; Occupancy Optimisation</span>
                </h1>
                <p class="hero-description">
                    Multi-sensor fusion platform for smart building HVAC optimisation and occupancy prediction
                    across 12 London office buildings &mdash; achieving 97.0% room-level occupancy prediction accuracy
                    with a 15-minute lookahead and 18% reduction in HVAC energy consumption.
                </p>
            </div>
        </div>
    </section>

    <!-- Case Study Content -->
    <section class="case-study-content">
        <div class="container">
            <!-- Project Context -->
            <div class="case-study-section">
                <h2>Project Context</h2>
                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>Timeline</h4>
                        <p>6 months, August 2024 &ndash; January 2025</p>
                    </div>
                    <div class="tech-item">
                        <h4>Team</h4>
                        <p>1 IoT/Embedded Engineer, 1 Data Scientist</p>
                    </div>
                    <div class="tech-item">
                        <h4>Client</h4>
                        <p>Commercial property management firm, 12 office buildings across London</p>
                    </div>
                    <div class="tech-item">
                        <h4>Scope</h4>
                        <p>340+ sensor nodes across 12 buildings, 180+ monitored zones</p>
                    </div>
                </div>
                <p>The client manages a portfolio of 12 multi-tenant office buildings across central and east London,
                    totalling approximately 45,000 sqm of lettable space. Rising energy costs and tenant demands for
                    better indoor air quality drove the need for an intelligent HVAC optimisation system. The buildings
                    range from 1990s refurbishments to 2010s new builds, each with different BMS (Building Management
                    System) vendors, making a unified sensor-driven approach essential.</p>
            </div>

            <!-- Project Overview -->
            <div class="case-study-section">
                <h2>Project Overview</h2>
                <p>Developed a sensor fusion platform that integrates environmental, occupancy, and energy-metering
                    data to optimise HVAC scheduling and setpoints across 12 London office buildings. The system
                    predicts room-level occupancy 15 minutes ahead and adjusts heating, cooling, and ventilation
                    accordingly &mdash; reducing energy waste in unoccupied or lightly occupied zones while maintaining
                    tenant comfort within defined thresholds.</p>

                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>Hardware</h4>
                        <p>Raspberry Pi 4 (per-floor gateway), ESP32 (sensor nodes), Sensirion SCD41, Panasonic EKMC,
                            BME280, TSL2591, Shelly 3EM</p>
                    </div>
                    <div class="tech-item">
                        <h4>AI Framework</h4>
                        <p>TensorFlow Lite, scikit-learn, XGBoost</p>
                    </div>
                    <div class="tech-item">
                        <h4>Data Processing</h4>
                        <p>Time Series Analysis (Prophet), Kalman Filtering, Sensor Fusion Algorithms</p>
                    </div>
                    <div class="tech-item">
                        <h4>Communication</h4>
                        <p>MQTT (Mosquitto), BACnet gateway, REST API, InfluxDB</p>
                    </div>
                </div>
            </div>

            <!-- Challenge -->
            <div class="case-study-section">
                <h2>The Challenge</h2>
                <p>A commercial property management firm overseeing 12 office buildings across London needed to reduce
                    HVAC energy consumption without compromising tenant comfort or indoor air quality. Key challenges
                    included:</p>
                <ul>
                    <li>Integrating 7 distinct sensor types &mdash; CO2 (Sensirion SCD41), PIR occupancy (Panasonic
                        EKMC), temperature/humidity (BME280), ambient light (TSL2591), power metering (Shelly 3EM),
                        door contact sensors, and acoustic occupancy detectors</li>
                    <li>Processing real-time data streams from 340+ sensor nodes across 12 buildings</li>
                    <li>Handling sensor drift, battery depletion, and Wi-Fi connectivity gaps gracefully</li>
                    <li>Correlating occupancy patterns with HVAC demand to predict heating/cooling needs</li>
                    <li>Interfacing with 4 different BMS vendors (Trend, Siemens, Honeywell, Schneider) via BACnet</li>
                    <li>Delivering occupancy predictions with enough lead time (15 minutes) for HVAC pre-conditioning</li>
                </ul>

                <h3>What Had Been Tried Before</h3>
                <p>The client had previously installed a basic PIR-only occupancy system in two of their buildings. The
                    system used simple binary occupancy detection (occupied/unoccupied) with fixed 30-minute HVAC
                    timeouts. This approach failed for several reasons: PIR sensors could not distinguish between 2
                    people and 40 people in an open-plan office, leading to identical HVAC output regardless of actual
                    load. The 30-minute timeout meant HVAC continued running long after floors emptied in the evening.
                    CO2 levels in densely occupied meeting rooms frequently exceeded 1200 ppm before the system reacted,
                    generating tenant complaints. The client needed a predictive, multi-sensor approach that could
                    anticipate demand rather than merely react to it.</p>
            </div>

            <!-- Solution -->
            <div class="case-study-section">
                <h2>Our Solution</h2>
                <h3>1. Multi-Sensor Occupancy Estimation</h3>
                <p>Developed a fusion model that combines PIR motion events, CO2 rate-of-change, acoustic energy
                    levels, and door contact transitions to estimate not just whether a room is occupied, but
                    approximately how many people are present (in bands: 0, 1&ndash;5, 6&ndash;15, 16+). This
                    granularity allows the HVAC system to modulate output proportionally rather than using binary
                    on/off control.</p>
                <p><strong>Why sensor fusion over camera-based counting:</strong> Camera-based occupancy counting
                    would have provided higher-resolution headcounts, but the client's tenants raised privacy
                    objections during consultation. The sensor fusion approach uses only non-visual, non-biometric
                    data &mdash; CO2 concentration is a reliable proxy for occupancy density, and combining it with
                    PIR and acoustic signals resolves the ambiguity that any single sensor type introduces.</p>

                <h3>2. Predictive Occupancy Model</h3>
                <p>Built an XGBoost-based occupancy prediction model that forecasts room-level occupancy 15 minutes
                    ahead. Features include time-of-day, day-of-week, historical occupancy patterns per zone,
                    calendar integration (meeting room bookings from the client's Exchange server), and CO2 trend
                    gradients. The model retrains weekly on a rolling 8-week window to adapt to changing tenant
                    patterns.</p>
                <p><strong>Why XGBoost over LSTM:</strong> We tested both LSTM and XGBoost on 4 weeks of pilot
                    data. XGBoost achieved 97.0% accuracy at the 15-minute horizon versus 95.8% for the LSTM, while
                    running comfortably on a Raspberry Pi 4 (inference in under 5ms vs. 120ms for the LSTM). For this
                    tabular time-series problem with strong temporal features, gradient boosting outperformed sequence
                    models both in accuracy and resource efficiency.</p>

                <h3>3. HVAC Setpoint Optimisation</h3>
                <p>Implemented a rule-based optimisation layer that translates occupancy predictions into HVAC setpoint
                    adjustments via BACnet. Unoccupied zones enter setback mode (heating to 16&deg;C instead of 21&deg;C,
                    ventilation reduced to minimum fresh-air rate). Zones predicted to become occupied receive
                    pre-conditioning 15 minutes in advance, ensuring comfort is maintained from the moment of arrival.</p>
                <p><strong>Why rule-based over reinforcement learning:</strong> While RL-based HVAC control is
                    promising, the client required a transparent, auditable control logic that their building managers
                    could understand and override. Rule-based setpoint scheduling is explainable, tuneable per-zone,
                    and carries no risk of unexpected behaviour &mdash; critical for occupied commercial buildings.</p>

                <h3>4. Per-Floor Edge Gateway</h3>
                <p>Each floor is served by a Raspberry Pi 4 gateway that aggregates sensor data via MQTT, runs the
                    local occupancy estimation model, and communicates setpoint recommendations to the BMS via a BACnet
                    IP gateway. This architecture keeps latency-sensitive decisions local while forwarding historical
                    data to a central InfluxDB instance for analytics and model retraining.</p>
                <p><strong>Why Raspberry Pi 4 over cloud-only:</strong> The client's buildings have inconsistent
                    internet reliability. Edge gateways ensure HVAC optimisation continues even during internet outages
                    &mdash; the Pi runs the last-trained model locally and only requires connectivity for model updates
                    and dashboard reporting.</p>
            </div>

            <!-- Technical Implementation -->
            <div class="case-study-section">
                <h2>Technical Implementation</h2>
                <h3>Sensor Network Architecture</h3>
                <p>The system integrates 7 sensor types deployed across 180+ zones:</p>
                <ul>
                    <li><strong>CO2 (Sensirion SCD41):</strong> Photoacoustic NDIR sensor, &plusmn;40 ppm accuracy.
                        Deployed in meeting rooms and open-plan areas. CO2 rate-of-change is the primary occupancy
                        density signal.</li>
                    <li><strong>PIR Occupancy (Panasonic EKMC):</strong> Passive infrared motion detection with 5m
                        range. Used for binary occupied/unoccupied baseline and to detect first/last presence.</li>
                    <li><strong>Temperature/Humidity (BME280):</strong> Combined environmental sensor for HVAC
                        feedback loops and comfort monitoring. Deployed at desk height in each zone.</li>
                    <li><strong>Ambient Light (TSL2591):</strong> High-dynamic-range light sensor. Used to detect
                        daylight availability for blind/lighting integration and as a secondary occupancy signal
                        (lights left on = likely occupied).</li>
                    <li><strong>Power Metering (Shelly 3EM):</strong> Per-floor energy monitoring at the distribution
                        board. Provides ground-truth HVAC energy consumption data for measuring optimisation impact.</li>
                    <li><strong>Door Contact Sensors:</strong> Magnetic reed switches on meeting room doors. Provide
                        entry/exit event timestamps for meeting room occupancy tracking.</li>
                    <li><strong>Acoustic Occupancy Detectors:</strong> MEMS microphone modules running on-device sound
                        level analysis (dBA only &mdash; no speech recording). Elevated ambient noise correlates with
                        occupancy in open-plan areas.</li>
                </ul>

                <h3>Data Fusion Pipeline</h3>
                <p>The fusion pipeline processes sensor data through three stages:</p>
                <ul>
                    <li><strong>Pre-processing:</strong> Kalman filtering for CO2 and temperature readings to smooth
                        noise. Missing sensor data is handled via last-value-carry-forward with a configurable
                        staleness timeout (10 minutes for PIR, 30 minutes for CO2).</li>
                    <li><strong>Feature engineering:</strong> Rolling statistics (5-min, 15-min, 60-min windows) for
                        CO2 gradient, temperature delta from setpoint, PIR event frequency, and acoustic energy.
                        Calendar features from Exchange integration.</li>
                    <li><strong>Occupancy estimation:</strong> XGBoost classifier outputs occupancy band predictions.
                        Ensemble averaging across overlapping sensor zones improves robustness when individual
                        sensors drop out.</li>
                </ul>

                <h3>Limitations &amp; Edge Cases</h3>
                <p>The system has documented limitations that were communicated to the client during handover:</p>
                <ul>
                    <li><strong>Sensor drift:</strong> CO2 and temperature sensors exhibit measurable drift over
                        3&ndash;6 months. The system flags readings that deviate significantly from expected baselines,
                        but quarterly physical recalibration of SCD41 and BME280 sensors is required to maintain
                        specified accuracy.</li>
                    <li><strong>Post-layout changes:</strong> The occupancy model's accuracy drops to approximately
                        91% during the first 2 weeks after office layout changes (desk relocations, partition
                        modifications) before the weekly retraining cycle adapts the model to new patterns.</li>
                    <li><strong>Battery-powered sensors:</strong> PIR sensors, door contacts, and acoustic detectors
                        run on CR123A batteries with approximately 12-month life. The system monitors battery voltage
                        and alerts the facilities team, but annual replacement across 340+ nodes is a non-trivial
                        maintenance burden.</li>
                    <li><strong>BACnet compatibility:</strong> Two of the 12 buildings use legacy BMS controllers that
                        support only BACnet MS/TP (serial) rather than BACnet IP. These require an additional
                        RS-485 gateway per floor, adding cost and a potential point of failure.</li>
                    <li><strong>Weekend/holiday accuracy:</strong> Occupancy prediction accuracy is lower on
                        non-standard days (bank holidays, office events) when patterns diverge from the training
                        distribution. The system falls back to reactive mode (respond to current sensor state rather
                        than predict) when prediction confidence drops below 80%.</li>
                </ul>
            </div>

            <!-- Results -->
            <div class="case-study-section">
                <h2>Results &amp; Impact</h2>
                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>97.0%</h4>
                        <p>Occupancy Prediction Accuracy (room-level, 15-min lookahead)</p>
                    </div>
                    <div class="tech-item">
                        <h4>&lt;5ms</h4>
                        <p>On-Device Inference Latency (Raspberry Pi 4)</p>
                    </div>
                    <div class="tech-item">
                        <h4>340+</h4>
                        <p>Sensor Nodes Across 12 Buildings</p>
                    </div>
                    <div class="tech-item">
                        <h4>99.1%</h4>
                        <p>System Uptime (edge gateway level)</p>
                    </div>
                </div>

                <h3>Before &amp; After Comparison</h3>
                <div class="tech-stack">
                    <div class="tech-item">
                        <h4>Before</h4>
                        <p>Fixed HVAC schedules: heating/cooling ran 07:00&ndash;19:00 regardless of actual occupancy</p>
                    </div>
                    <div class="tech-item">
                        <h4>After</h4>
                        <p>Predictive scheduling: HVAC modulates per-zone based on 15-minute occupancy forecast</p>
                    </div>
                    <div class="tech-item">
                        <h4>Before</h4>
                        <p>Binary PIR: no occupancy density data, 30-min fixed timeout, frequent CO2 complaints</p>
                    </div>
                    <div class="tech-item">
                        <h4>After</h4>
                        <p>Multi-sensor fusion: 4-band occupancy estimation, 97.0% prediction accuracy, CO2 consistently &lt;1000 ppm</p>
                    </div>
                </div>

                <h3>Measured Outcomes</h3>
                <ul>
                    <li>18% reduction in HVAC energy consumption across the portfolio (measured via Shelly 3EM power
                        meters over 3 months post-deployment vs. same period prior year, weather-normalised)</li>
                    <li>97.0% occupancy prediction accuracy at room level with 15-minute lookahead</li>
                    <li>CO2 levels maintained below 1000 ppm in 98.5% of occupied hours (vs. 89% previously)</li>
                    <li>Tenant comfort complaints related to temperature reduced by 35%</li>
                    <li>Average HVAC pre-conditioning lead time reduced from 30 minutes (fixed schedule overshoot) to
                        15 minutes (predictive), saving energy while maintaining comfort</li>
                </ul>
            </div>

            <!-- Ongoing & Next Steps -->
            <div class="case-study-section">
                <h2>Ongoing &amp; Next Steps</h2>
                <p>The system is in active operation across all 12 buildings with ongoing monitoring and planned
                    enhancements:</p>
                <ul>
                    <li><strong>In progress:</strong> Integration with tenant lighting controls &mdash; using ambient
                        light sensor data and occupancy predictions to automate blind and lighting adjustments
                        alongside HVAC</li>
                    <li><strong>Scheduled Q2 2025:</strong> Expansion to 4 additional buildings in the client's
                        Manchester portfolio, adapting sensor placement templates for different floor-plate sizes</li>
                    <li><strong>Under evaluation:</strong> Replacing the rule-based HVAC setpoint logic with a
                        model-predictive control (MPC) approach for buildings with well-characterised thermal models</li>
                    <li><strong>Ongoing:</strong> Quarterly sensor recalibration programme and annual battery
                        replacement cycle for the 340+ wireless sensor nodes</li>
                    <li><strong>Exploring:</strong> Integration with the client's EPC (Energy Performance Certificate)
                        reporting to provide automated energy efficiency evidence for regulatory compliance</li>
                </ul>
            </div>
        </div>
    </section>
</body>

</html>